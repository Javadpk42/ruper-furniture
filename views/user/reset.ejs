<%-include("../userlayouts/header.ejs")-%>


			<div id="site-main" class="site-main">
				<div id="main-content" class="main-content">
					<div id="primary" class="content-area">
						<div id="title" class="page-title">
							<div class="section-container">
								<div class="content-title-heading">
									<h1 class="text-title-heading">
										Reset Password
									</h1>
								</div>
								<div class="breadcrumbs">
									<a href="/">Home</a>
								</div>
							</div>
						</div>

						<div id="content" class="site-content" role="main">
							<div class="section-padding">
								<div class="section-container p-l-r">
									<div class="page-forget-password">
										<!-- <form method="post" action="/resetpassword" class="reset-password">
											<p>reset password</p>
											<p class="form-row form-row-first">
												<label></label>
												<input class="input-text form-control" type="text" name="password" placeholder="enter new password" autocomplete="username">
												<input type="hidden" name="id" value="<%= user_id %>">

											</p>
											<div class="clear"></div>
											<p class="form-row">
												<button type="submit" class="button" value="Reset password">Reset password</button>
											</p>
										</form> -->

										<form onsubmit="return validResetPassword()" method="post" action="/resetpassword" class="reset-password">
											<p>Reset Password</p>
											<p class="form-row form-row-first">
												<label for="password">New Password:</label>
												<input class="input-text form-control" type="password" name="password" id="password" placeholder="Enter new password" autocomplete="new-password">
												<span id="password-error" class="error-message"></span>
											</p>
											<p class="form-row form-row-second">
												<label for="confirmPassword">Confirm Password:</label>
												<input class="input-text form-control" type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm new password" autocomplete="new-password">
												<span id="password-mismatch" class="error-message"></span>
											</p>
											<input type="hidden" name="id" value="<%= user_id %>">
											<div class="clear"></div>
											<p class="form-row">
												<button type="submit" class="button" value="Reset password">Reset Password</button>
											</p>
										</form>
										
									
									</div>
								</div>
							</div>
						</div><!-- #content -->
					</div><!-- #primary -->
				</div><!-- #main-content -->
			</div>

			<script>
				function validResetPassword() {
					const password = document.getElementById('password').value;
					const confirmPassword = document.getElementById('confirmPassword').value;
			
					document.getElementById('password-error').textContent = '';
					document.getElementById('password-mismatch').textContent = '';
			
					// Validate password
					if (!password || password.length < 6) {
						document.getElementById('password-error').textContent = 'Password should be at least 6 characters long.';
						return false;
					}
			
					// Validate password match
					if (password !== confirmPassword) {
						document.getElementById('password-mismatch').textContent = 'Passwords do not match.';
						return false;
					}
			
					return true; // Return true if validation passes, false otherwise
				}
			</script>
			
			<style>
				.error-message {
					color: red;
				}
			</style>

			<%-include("../userlayouts/footer.ejs")-%>